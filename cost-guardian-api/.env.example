# OpenAI Configuration
# Note: API keys are now managed via the dashboard UI with encryption
OPENAI_MODEL=gpt-4o-mini-2024-07-18

# Worker Configuration
PROBE_INTERVAL_SECS=300
HEARTBEAT_PROMPT=ping

# Database Configuration
DB_FILENAME=cost_guardian.db

# Server Configuration
SERVER_PORT=5001

# Environment Configuration
# ENV: development | production
ENV=development

# CORS Configuration
# Comma-separated list of browser origins allowed to call the API
ALLOWED_ORIGINS=http://127.0.0.1:5001,http://localhost:5001

# Authentication Configuration
# API authentication (leave empty to disable auth in development)
# In production, API_KEY must be set and dashboard requires sign-in
# In development, leaving API_KEY blank disables admin auth for faster local testing
API_KEY=

# Encryption Configuration
# ⚠️  CRITICAL: 32-byte urlsafe base64 Fernet key. Generate with:
# python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
# ⚠️  WARNING: If you lose this key, ALL stored API keys become permanently unrecoverable!
# ⚠️  BACKUP this key securely (password manager, encrypted vault, etc.)
MASTER_KEY=

# Provider Configuration
PROVIDER=openai

# Rate Limiting Configuration
RATE_LIMIT_RPM=60
RATE_LIMIT_BURST=60
RATE_LIMIT_EXEMPT=/ping,/dashboard,/health

# Ingestion Configuration
# Server-to-server authentication for /ingest endpoint
INGEST_KEY=your_secret_ingest_key_here

# Dedicated rate limits for ingestion (fallback to RATE_LIMIT_* if unset)
INGEST_RPM=60
INGEST_BURST=60

# Worker Configuration
# PRODUCTION: Set to false and use client-push ingestion via /ingest endpoint
# DEVELOPMENT: Set to true for testing API keys (shows tiny heartbeat usage only)
WORKER_HEARTBEAT_ENABLED=false

# Tracking Token Configuration
# Length of generated tracking tokens (16-40 characters recommended)
TRACKING_TOKEN_LENGTH=22
